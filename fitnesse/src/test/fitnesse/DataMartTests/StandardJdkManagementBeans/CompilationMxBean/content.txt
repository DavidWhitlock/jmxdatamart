!contents -R2 -g -p -f -h

This test makes sure that we can load and extract the java.lang.management.CompilationMXBean (http://docs.oracle.com/javase/6/docs/api/java/lang/management/CompilationMXBean.html)

!contents

This test verifies an end-to-end extract and load of a very simple JMX statistic into the Data Mart.

| org.jmxdatamart.fixtures.ExtractAndLoadTest |

!| configure extractor |
| extract statistics every | 500 | milliseconds |
| write statistics to directory | CompilationMxBean/statistics |

!| configure MBeans to be extracted |
| bean name | bean alias | attribute | attribute alias |
| java.lang:type=Compilation | Compilation | TotalCompilationTime |  |

Then we give the collector some time to do its thing

| collect statistics for | 2 | seconds |

Then we load the statistics file into the data mart

!| load statistics |
| from file | CompilationMxBean/statistics.dat |
| into database with url | ${derby.url};user=${derby.username};password=${derby.username} |

Finally, we verify that the statistics were loaded as expected

Connect to the JMX Data Mart database

!|Connect|${derby.url};user=${derby.username};password=${derby.username}|
